<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="/js/axios-0.18.0.js"></script>
    <script src="/js/vuejs-2.5.16.js"></script>
</head>
<body>
<form id="form02">
    <input type="text" name="uname" placeholder="用户名：">
    <input type="text" name="password" placeholder="密码：">
    <a href="" @click.prevent="add()">保存</a>
</form>
<script>
    var vm3 = new Vue({
        el: "#form02",
        data: {
            uid: {}
        },
        methods: {
            add() {
                alert("ddd");
                var uname = document.getElementsByName("uname")[0].value;
                var password = document.getElementsByName("password")[0].value;
                axios.get("user/addUser/" + uname + "/" + password).then(response => {
                    if (response.data === true){
                        alert("aa");
                        window.location.href = '/main.html/?uid=' + vm3.uid;
                    }else {
                        alert("bb");
                    }
                    alert("ccc");
                });
            }
        },
        created() {
            this.uid = location.search.replace(/[^\d]/g, "");
        }
    })
</script>
</body>
</html>
